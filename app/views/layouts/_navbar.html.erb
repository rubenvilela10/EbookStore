<nav class="w-full bg-white shadow px-6 py-4 flex items-center justify-between">

  <div class="flex items-center gap-3">
    <%= link_to root_path, class: "text-xl font-bold text-green-700" do %>
      EbookStore
    <% end %>
  </div>

  <div class="flex items-center gap-6">

    <% if logged_in? %>

      <div class="flex items-center gap-4">

        <% if current_user.profile_pic.attached? %>
          <%= image_tag current_user.profile_pic.variant(resize_to_fill: [40, 40]),
                class: "w-10 h-10 rounded-full object-cover border" %>
        <% else %>
          <div class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center">
            <i data-lucide="user" class="w-6 h-6 text-gray-600"></i>
          </div>
        <% end %>

        <div class="text-sm">
          <p class="font-semibold"><%= current_user.name %></p>
          <p class="text-gray-600">Balance: <%= number_to_currency(current_user.balance) %></p>
        </div>

      </div>

      <%= link_to "Logout",
            logout_path,
            data: { turbo_method: :delete },
            class: "text-red-600 hover:text-red-800 font-medium" %>

    <% else %>

      <%= link_to "Login", login_path,
            class: "text-gray-700 hover:text-gray-900 font-medium" %>

      <%= link_to "Sign Up", signup_path,
            class: "bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700" %>

    <% end %>

  </div>

</nav>